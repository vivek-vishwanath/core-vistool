var wi=Object.defineProperty;var xi=(t,n,e)=>n in t?wi(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var v=(t,n,e)=>xi(t,typeof n!="symbol"?n+"":n,e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();const Me=!1;var ee=Array.isArray,mi=Array.prototype.indexOf,re=Array.from,sr=Object.defineProperty,Ft=Object.getOwnPropertyDescriptor,ki=Object.getOwnPropertyDescriptors,Ei=Object.prototype,$i=Array.prototype,ar=Object.getPrototypeOf,Ce=Object.isExtensible;const kt=()=>{};function Ni(t){return t()}function Hn(t){for(var n=0;n<t.length;n++)t[n]()}const B=2,or=4,En=8,ie=16,nt=32,St=64,fn=128,L=256,cn=512,O=1024,W=2048,bt=4096,j=8192,$n=16384,Ai=32768,se=65536,Si=1<<19,ur=1<<20,Vn=1<<21,Et=Symbol("$state");function lr(t){return t===this.v}function fr(t,n){return t!=t?n==n:t!==n||t!==null&&typeof t=="object"||typeof t=="function"}function cr(t){return!fr(t,this.v)}function Ti(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Mi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ci(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Ri(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Pi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ii(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Oi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Yt=!1,Fi=!1;function Li(){Yt=!0}const Di=1,qi=2,Hi=16,Vi=2,P=Symbol();function Xi(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let m=null;function Re(t){m=t}function hr(t,n=!1,e){var r=m={p:m,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};Yt&&!n&&(m.l={s:null,u:null,r1:[],r2:Dt(!1)}),ue(()=>{r.d=!0})}function pr(t){const n=m;if(n!==null){const a=n.e;if(a!==null){var e=w,r=y;n.e=null;try{for(var i=0;i<a.length;i++){var s=a[i];lt(s.effect),Q(s.reaction),le(s.fn)}}finally{lt(e),Q(r)}}m=n.p,n.m=!0}return{}}function Nn(){return!Yt||m!==null&&m.l===null}function mt(t){if(typeof t!="object"||t===null||Et in t)return t;const n=ar(t);if(n!==Ei&&n!==$i)return t;var e=new Map,r=ee(t),i=et(0),s=y,a=u=>{var o=y;Q(s);var l=u();return Q(o),l};return r&&e.set("length",et(t.length)),new Proxy(t,{defineProperty(u,o,l){(!("value"in l)||l.configurable===!1||l.enumerable===!1||l.writable===!1)&&Pi();var f=e.get(o);return f===void 0?(f=a(()=>et(l.value)),e.set(o,f)):$(f,a(()=>mt(l.value))),!0},deleteProperty(u,o){var l=e.get(o);if(l===void 0)o in u&&(e.set(o,a(()=>et(P))),On(i));else{if(r&&typeof o=="string"){var f=e.get("length"),h=Number(o);Number.isInteger(h)&&h<f.v&&$(f,h)}$(l,P),On(i)}return!0},get(u,o,l){var p;if(o===Et)return t;var f=e.get(o),h=o in u;if(f===void 0&&(!h||(p=Ft(u,o))!=null&&p.writable)&&(f=a(()=>et(mt(h?u[o]:P))),e.set(o,f)),f!==void 0){var c=g(f);return c===P?void 0:c}return Reflect.get(u,o,l)},getOwnPropertyDescriptor(u,o){var l=Reflect.getOwnPropertyDescriptor(u,o);if(l&&"value"in l){var f=e.get(o);f&&(l.value=g(f))}else if(l===void 0){var h=e.get(o),c=h==null?void 0:h.v;if(h!==void 0&&c!==P)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return l},has(u,o){var c;if(o===Et)return!0;var l=e.get(o),f=l!==void 0&&l.v!==P||Reflect.has(u,o);if(l!==void 0||w!==null&&(!f||(c=Ft(u,o))!=null&&c.writable)){l===void 0&&(l=a(()=>et(f?mt(u[o]):P)),e.set(o,l));var h=g(l);if(h===P)return!1}return f},set(u,o,l,f){var x;var h=e.get(o),c=o in u;if(r&&o==="length")for(var p=l;p<h.v;p+=1){var d=e.get(p+"");d!==void 0?$(d,P):p in u&&(d=a(()=>et(P)),e.set(p+"",d))}h===void 0?(!c||(x=Ft(u,o))!=null&&x.writable)&&(h=a(()=>et(void 0)),$(h,a(()=>mt(l))),e.set(o,h)):(c=h.v!==P,$(h,a(()=>mt(l))));var _=Reflect.getOwnPropertyDescriptor(u,o);if(_!=null&&_.set&&_.set.call(f,l),!c){if(r&&typeof o=="string"){var k=e.get("length"),b=Number(o);Number.isInteger(b)&&b>=k.v&&$(k,b+1)}On(i)}return!0},ownKeys(u){g(i);var o=Reflect.ownKeys(u).filter(h=>{var c=e.get(h);return c===void 0||c.v!==P});for(var[l,f]of e)f.v!==P&&!(l in u)&&o.push(l);return o},setPrototypeOf(){Ii()}})}function On(t,n=1){$(t,t.v+n)}function ae(t){var n=B|W,e=y!==null&&(y.f&B)!==0?y:null;return w===null||e!==null&&(e.f&L)!==0?n|=L:w.f|=ur,{ctx:m,deps:null,effects:null,equals:lr,f:n,fn:t,reactions:null,rv:0,v:null,wv:0,parent:e??w}}function Bi(t){const n=ae(t);return n.equals=cr,n}function dr(t){var n=t.effects;if(n!==null){t.effects=null;for(var e=0;e<n.length;e+=1)ut(n[e])}}function Yi(t){for(var n=t.parent;n!==null;){if((n.f&B)===0)return n;n=n.parent}return null}function _r(t){var n,e=w;lt(Yi(t));try{dr(t),n=Or(t)}finally{lt(e)}return n}function vr(t){var n=_r(t),e=(ot||(t.f&L)!==0)&&t.deps!==null?bt:O;Y(t,e),t.equals(n)||(t.v=n,t.wv=Pr())}const Lt=new Map;function Dt(t,n){var e={f:0,v:t,reactions:null,equals:lr,rv:0,wv:0};return e}function et(t,n){const e=Dt(t);return es(e),e}function V(t,n=!1){var r;const e=Dt(t);return n||(e.equals=cr),Yt&&m!==null&&m.l!==null&&((r=m.l).s??(r.s=[])).push(e),e}function Ui(t,n){return $(t,Kt(()=>g(t))),n}function $(t,n,e=!1){y!==null&&!z&&Nn()&&(y.f&(B|ie))!==0&&!(M!=null&&M.includes(t))&&Oi();let r=e?mt(n):n;return br(t,r)}function br(t,n){if(!t.equals(n)){var e=t.v;Ut?Lt.set(t,n):Lt.set(t,e),t.v=n,(t.f&B)!==0&&((t.f&W)!==0&&_r(t),Y(t,(t.f&L)===0?O:bt)),t.wv=Pr(),gr(t,W),Nn()&&w!==null&&(w.f&O)!==0&&(w.f&(nt|St))===0&&(D===null?rs([t]):D.push(t))}return n}function gr(t,n){var e=t.reactions;if(e!==null)for(var r=Nn(),i=e.length,s=0;s<i;s++){var a=e[s],u=a.f;(u&W)===0&&(!r&&a===w||(Y(a,n),(u&(O|L))!==0&&((u&B)!==0?gr(a,bt):Sn(a))))}}let zi=!1;var Pe,yr,wr,xr;function Ki(){if(Pe===void 0){Pe=window,yr=/Firefox/.test(navigator.userAgent);var t=Element.prototype,n=Node.prototype,e=Text.prototype;wr=Ft(n,"firstChild").get,xr=Ft(n,"nextSibling").get,Ce(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Ce(e)&&(e.__t=void 0)}}function mr(t=""){return document.createTextNode(t)}function kr(t){return wr.call(t)}function oe(t){return xr.call(t)}function Z(t,n){return kr(t)}function R(t,n=1,e=!1){let r=t;for(;n--;)r=oe(r);return r}function Wi(t){t.textContent=""}function Er(t){w===null&&y===null&&Ci(),y!==null&&(y.f&L)!==0&&w===null&&Mi(),Ut&&Ti()}function Qi(t,n){var e=n.last;e===null?n.last=n.first=t:(e.next=t,t.prev=e,n.last=t)}function Tt(t,n,e,r=!0){var i=w,s={ctx:m,deps:null,nodes_start:null,nodes_end:null,f:t|W,first:null,fn:n,last:null,next:null,parent:i,prev:null,teardown:null,transitions:null,wv:0};if(e)try{he(s),s.f|=Ai}catch(o){throw ut(s),o}else n!==null&&Sn(s);var a=e&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(ur|fn))===0;if(!a&&r&&(i!==null&&Qi(s,i),y!==null&&(y.f&B)!==0)){var u=y;(u.effects??(u.effects=[])).push(s)}return s}function ue(t){const n=Tt(En,null,!1);return Y(n,O),n.teardown=t,n}function Xn(t){Er();var n=w!==null&&(w.f&nt)!==0&&m!==null&&!m.m;if(n){var e=m;(e.e??(e.e=[])).push({fn:t,effect:w,reaction:y})}else{var r=le(t);return r}}function Gi(t){return Er(),$r(t)}function Zi(t){const n=Tt(St,t,!0);return(e={})=>new Promise(r=>{e.outro?hn(n,()=>{ut(n),r(void 0)}):(ut(n),r(void 0))})}function le(t){return Tt(or,t,!1)}function $r(t){return Tt(En,t,!0)}function Ji(t,n=[],e=ae){const r=n.map(e);return fe(()=>t(...r.map(g)))}function fe(t,n=0){return Tt(En|ie|n,t,!0)}function qt(t,n=!0){return Tt(En|nt,t,!0,n)}function Nr(t){var n=t.teardown;if(n!==null){const e=Ut,r=y;Ie(!0),Q(null);try{n.call(null)}finally{Ie(e),Q(r)}}}function Ar(t,n=!1){var e=t.first;for(t.first=t.last=null;e!==null;){var r=e.next;(e.f&St)!==0?e.parent=null:ut(e,n),e=r}}function ji(t){for(var n=t.first;n!==null;){var e=n.next;(n.f&nt)===0&&ut(n),n=e}}function ut(t,n=!0){var e=!1;(n||(t.f&Si)!==0)&&t.nodes_start!==null&&(ts(t.nodes_start,t.nodes_end),e=!0),Ar(t,n&&!e),bn(t,0),Y(t,$n);var r=t.transitions;if(r!==null)for(const s of r)s.stop();Nr(t);var i=t.parent;i!==null&&i.first!==null&&Sr(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function ts(t,n){for(;t!==null;){var e=t===n?null:oe(t);t.remove(),t=e}}function Sr(t){var n=t.parent,e=t.prev,r=t.next;e!==null&&(e.next=r),r!==null&&(r.prev=e),n!==null&&(n.first===t&&(n.first=r),n.last===t&&(n.last=e))}function hn(t,n){var e=[];ce(t,e,!0),Tr(e,()=>{ut(t),n&&n()})}function Tr(t,n){var e=t.length;if(e>0){var r=()=>--e||n();for(var i of t)i.out(r)}else n()}function ce(t,n,e){if((t.f&j)===0){if(t.f^=j,t.transitions!==null)for(const a of t.transitions)(a.is_global||e)&&n.push(a);for(var r=t.first;r!==null;){var i=r.next,s=(r.f&se)!==0||(r.f&nt)!==0;ce(r,n,s?e:!1),r=i}}}function pn(t){Mr(t,!0)}function Mr(t,n){if((t.f&j)!==0){t.f^=j,(t.f&O)===0&&(t.f^=O),zt(t)&&(Y(t,W),Sn(t));for(var e=t.first;e!==null;){var r=e.next,i=(e.f&se)!==0||(e.f&nt)!==0;Mr(e,i?n:!1),e=r}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||n)&&s.in()}}let dn=[];function ns(){var t=dn;dn=[],Hn(t)}function Cr(t){dn.length===0&&queueMicrotask(ns),dn.push(t)}let sn=!1,Bn=!1,_n=null,dt=!1,Ut=!1;function Ie(t){Ut=t}let an=[];let y=null,z=!1;function Q(t){y=t}let w=null;function lt(t){w=t}let M=null;function es(t){y!==null&&y.f&Vn&&(M===null?M=[t]:M.push(t))}let T=null,F=0,D=null;function rs(t){D=t}let Rr=1,vn=0,ot=!1;function Pr(){return++Rr}function zt(t){var h;var n=t.f;if((n&W)!==0)return!0;if((n&bt)!==0){var e=t.deps,r=(n&L)!==0;if(e!==null){var i,s,a=(n&cn)!==0,u=r&&w!==null&&!ot,o=e.length;if(a||u){var l=t,f=l.parent;for(i=0;i<o;i++)s=e[i],(a||!((h=s==null?void 0:s.reactions)!=null&&h.includes(l)))&&(s.reactions??(s.reactions=[])).push(l);a&&(l.f^=cn),u&&f!==null&&(f.f&L)===0&&(l.f^=L)}for(i=0;i<o;i++)if(s=e[i],zt(s)&&vr(s),s.wv>t.wv)return!0}(!r||w!==null&&!ot)&&Y(t,O)}return!1}function is(t,n){for(var e=n;e!==null;){if((e.f&fn)!==0)try{e.fn(t);return}catch{e.f^=fn}e=e.parent}throw sn=!1,t}function Oe(t){return(t.f&$n)===0&&(t.parent===null||(t.parent.f&fn)===0)}function An(t,n,e,r){if(sn){if(e===null&&(sn=!1),Oe(n))throw t;return}if(e!==null&&(sn=!0),is(t,n),Oe(n))throw t}function Ir(t,n,e=!0){var r=t.reactions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];M!=null&&M.includes(t)||((s.f&B)!==0?Ir(s,n,!1):n===s&&(e?Y(s,W):(s.f&O)!==0&&Y(s,bt),Sn(s)))}}function Or(t){var p;var n=T,e=F,r=D,i=y,s=ot,a=M,u=m,o=z,l=t.f;T=null,F=0,D=null,ot=(l&L)!==0&&(z||!dt||y===null),y=(l&(nt|St))===0?t:null,M=null,Re(t.ctx),z=!1,vn++,t.f|=Vn;try{var f=(0,t.fn)(),h=t.deps;if(T!==null){var c;if(bn(t,F),h!==null&&F>0)for(h.length=F+T.length,c=0;c<T.length;c++)h[F+c]=T[c];else t.deps=h=T;if(!ot)for(c=F;c<h.length;c++)((p=h[c]).reactions??(p.reactions=[])).push(t)}else h!==null&&F<h.length&&(bn(t,F),h.length=F);if(Nn()&&D!==null&&!z&&h!==null&&(t.f&(B|bt|W))===0)for(c=0;c<D.length;c++)Ir(D[c],t);return i!==null&&i!==t&&(vn++,D!==null&&(r===null?r=D:r.push(...D))),f}finally{T=n,F=e,D=r,y=i,ot=s,M=a,Re(u),z=o,t.f^=Vn}}function ss(t,n){let e=n.reactions;if(e!==null){var r=mi.call(e,t);if(r!==-1){var i=e.length-1;i===0?e=n.reactions=null:(e[r]=e[i],e.pop())}}e===null&&(n.f&B)!==0&&(T===null||!T.includes(n))&&(Y(n,bt),(n.f&(L|cn))===0&&(n.f^=cn),dr(n),bn(n,0))}function bn(t,n){var e=t.deps;if(e!==null)for(var r=n;r<e.length;r++)ss(t,e[r])}function he(t){var n=t.f;if((n&$n)===0){Y(t,O);var e=w,r=m,i=dt;w=t,dt=!0;try{(n&ie)!==0?ji(t):Ar(t),Nr(t);var s=Or(t);t.teardown=typeof s=="function"?s:null,t.wv=Rr;var a=t.deps,u;Me&&Fi&&t.f&W}catch(o){An(o,t,e,r||t.ctx)}finally{dt=i,w=e}}}function as(){try{Ri()}catch(t){if(_n!==null)An(t,_n,null);else throw t}}function os(){var t=dt;try{var n=0;for(dt=!0;an.length>0;){n++>1e3&&as();var e=an,r=e.length;an=[];for(var i=0;i<r;i++){var s=ls(e[i]);us(s)}Lt.clear()}}finally{Bn=!1,dt=t,_n=null}}function us(t){var n=t.length;if(n!==0)for(var e=0;e<n;e++){var r=t[e];if((r.f&($n|j))===0)try{zt(r)&&(he(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Sr(r):r.fn=null))}catch(i){An(i,r,null,r.ctx)}}}function Sn(t){Bn||(Bn=!0,queueMicrotask(os));for(var n=_n=t;n.parent!==null;){n=n.parent;var e=n.f;if((e&(St|nt))!==0){if((e&O)===0)return;n.f^=O}}an.push(n)}function ls(t){for(var n=[],e=t;e!==null;){var r=e.f,i=(r&(nt|St))!==0,s=i&&(r&O)!==0;if(!s&&(r&j)===0){if((r&or)!==0)n.push(e);else if(i)e.f^=O;else try{zt(e)&&he(e)}catch(o){An(o,e,null,e.ctx)}var a=e.first;if(a!==null){e=a;continue}}var u=e.parent;for(e=e.next;e===null&&u!==null;)e=u.next,u=u.parent}return n}function g(t){var n=t.f,e=(n&B)!==0;if(y!==null&&!z){if(!(M!=null&&M.includes(t))){var r=y.deps;t.rv<vn&&(t.rv=vn,T===null&&r!==null&&r[F]===t?F++:T===null?T=[t]:(!ot||!T.includes(t))&&T.push(t))}}else if(e&&t.deps===null&&t.effects===null){var i=t,s=i.parent;s!==null&&(s.f&L)===0&&(i.f^=L)}return e&&(i=t,zt(i)&&vr(i)),Ut&&Lt.has(t)?Lt.get(t):t.v}function Kt(t){var n=z;try{return z=!0,t()}finally{z=n}}const fs=-7169;function Y(t,n){t.f=t.f&fs|n}function cs(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Et in t)Yn(t);else if(!Array.isArray(t))for(let n in t){const e=t[n];typeof e=="object"&&e&&Et in e&&Yn(e)}}}function Yn(t,n=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!n.has(t)){n.add(t),t instanceof Date&&t.getTime();for(let r in t)try{Yn(t[r],n)}catch{}const e=ar(t);if(e!==Object.prototype&&e!==Array.prototype&&e!==Map.prototype&&e!==Set.prototype&&e!==Date.prototype){const r=ki(e);for(let i in r){const s=r[i].get;if(s)try{s.call(t)}catch{}}}}}const hs=["touchstart","touchmove"];function ps(t){return hs.includes(t)}function ds(t){var n=y,e=w;Q(null),lt(null);try{return t()}finally{Q(n),lt(e)}}const Fr=new Set,Un=new Set;function _s(t,n,e,r={}){function i(s){if(r.capture||Rt.call(n,s),!s.cancelBubble)return ds(()=>e==null?void 0:e.call(this,s))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Cr(()=>{n.addEventListener(t,i,r)}):n.addEventListener(t,i,r),i}function Fe(t,n,e,r,i){var s={capture:r,passive:i},a=_s(t,n,e,s);(n===document.body||n===window||n===document)&&ue(()=>{n.removeEventListener(t,a,s)})}function vs(t){for(var n=0;n<t.length;n++)Fr.add(t[n]);for(var e of Un)e(t)}function Rt(t){var x;var n=this,e=n.ownerDocument,r=t.type,i=((x=t.composedPath)==null?void 0:x.call(t))||[],s=i[0]||t.target,a=0,u=t.__root;if(u){var o=i.indexOf(u);if(o!==-1&&(n===document||n===window)){t.__root=n;return}var l=i.indexOf(n);if(l===-1)return;o<=l&&(a=o)}if(s=i[a]||t.target,s!==n){sr(t,"currentTarget",{configurable:!0,get(){return s||e}});var f=y,h=w;Q(null),lt(null);try{for(var c,p=[];s!==null;){var d=s.assignedSlot||s.parentNode||s.host||null;try{var _=s["__"+r];if(_!=null&&(!s.disabled||t.target===s))if(ee(_)){var[k,...b]=_;k.apply(s,[t,...b])}else _.call(s,t)}catch(A){c?p.push(A):c=A}if(t.cancelBubble||d===n||d===null)break;s=d}if(c){for(let A of p)queueMicrotask(()=>{throw A});throw c}}finally{t.__root=n,delete t.currentTarget,Q(f),lt(h)}}}function bs(t){var n=document.createElement("template");return n.innerHTML=t,n.content}function gs(t,n){var e=w;e.nodes_start===null&&(e.nodes_start=t,e.nodes_end=n)}function pe(t,n){var e=(n&Vi)!==0,r,i=!t.startsWith("<!>");return()=>{r===void 0&&(r=bs(i?t:"<!>"+t),r=kr(r));var s=e||yr?document.importNode(r,!0):r.cloneNode(!0);return gs(s,s),s}}function Fn(t,n){t!==null&&t.before(n)}function ys(t,n){var e=n==null?"":typeof n=="object"?n+"":n;e!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=e,t.nodeValue=e+"")}function ws(t,n){return xs(t,n)}const yt=new Map;function xs(t,{target:n,anchor:e,props:r={},events:i,context:s,intro:a=!0}){Ki();var u=new Set,o=h=>{for(var c=0;c<h.length;c++){var p=h[c];if(!u.has(p)){u.add(p);var d=ps(p);n.addEventListener(p,Rt,{passive:d});var _=yt.get(p);_===void 0?(document.addEventListener(p,Rt,{passive:d}),yt.set(p,1)):yt.set(p,_+1)}}};o(re(Fr)),Un.add(o);var l=void 0,f=Zi(()=>{var h=e??n.appendChild(mr());return qt(()=>{if(s){hr({});var c=m;c.c=s}i&&(r.$$events=i),l=t(h,r)||{},s&&pr()}),()=>{var d;for(var c of u){n.removeEventListener(c,Rt);var p=yt.get(c);--p===0?(document.removeEventListener(c,Rt),yt.delete(c)):yt.set(c,p)}Un.delete(o),h!==e&&((d=h.parentNode)==null||d.removeChild(h))}});return ms.set(l,f),l}let ms=new WeakMap;function ks(t,n,[e,r]=[0,0]){var i=t,s=null,a=null,u=P,o=e>0?se:0,l=!1;const f=(c,p=!0)=>{l=!0,h(p,c)},h=(c,p)=>{u!==(u=c)&&(u?(s?pn(s):p&&(s=qt(()=>p(i))),a&&hn(a,()=>{a=null})):(a?pn(a):p&&(a=qt(()=>p(i,[e+1,r]))),s&&hn(s,()=>{s=null})))};fe(()=>{l=!1,n(f),l||h(null,null)},o)}function Es(t,n){return n}function $s(t,n,e,r){for(var i=[],s=n.length,a=0;a<s;a++)ce(n[a].e,i,!0);var u=s>0&&i.length===0&&e!==null;if(u){var o=e.parentNode;Wi(o),o.append(e),r.clear(),st(t,n[0].prev,n[s-1].next)}Tr(i,()=>{for(var l=0;l<s;l++){var f=n[l];u||(r.delete(f.k),st(t,f.prev,f.next)),ut(f.e,!u)}})}function Ns(t,n,e,r,i,s=null){var a=t,u={flags:n,items:new Map,first:null};{var o=t;a=o.appendChild(mr())}var l=null,f=!1,h=Bi(()=>{var c=e();return ee(c)?c:c==null?[]:re(c)});fe(()=>{var c=g(h),p=c.length;f&&p===0||(f=p===0,As(c,u,a,i,n,r,e),s!==null&&(p===0?l?pn(l):l=qt(()=>s(a)):l!==null&&hn(l,()=>{l=null})),g(h))})}function As(t,n,e,r,i,s,a){var u=t.length,o=n.items,l=n.first,f=l,h,c=null,p=[],d=[],_,k,b,x;for(x=0;x<u;x+=1){if(_=t[x],k=s(_,x),b=o.get(k),b===void 0){var A=f?f.e.nodes_start:e;c=Ts(A,n,c,c===null?n.first:c.next,_,k,x,r,i,a),o.set(k,c),p=[],d=[],f=c.next;continue}if(Ss(b,_,x),(b.e.f&j)!==0&&pn(b.e),b!==f){if(h!==void 0&&h.has(b)){if(p.length<d.length){var C=d[0],N;c=C.prev;var Gt=p[0],Mt=p[p.length-1];for(N=0;N<p.length;N+=1)Le(p[N],C,e);for(N=0;N<d.length;N+=1)h.delete(d[N]);st(n,Gt.prev,Mt.next),st(n,c,Gt),st(n,Mt,C),f=C,c=Mt,x-=1,p=[],d=[]}else h.delete(b),Le(b,f,e),st(n,b.prev,b.next),st(n,b,c===null?n.first:c.next),st(n,c,b),c=b;continue}for(p=[],d=[];f!==null&&f.k!==k;)(f.e.f&j)===0&&(h??(h=new Set)).add(f),d.push(f),f=f.next;if(f===null)continue;b=f}p.push(b),c=b,f=b.next}if(f!==null||h!==void 0){for(var gt=h===void 0?[]:re(h);f!==null;)(f.e.f&j)===0&&gt.push(f),f=f.next;var Rn=gt.length;if(Rn>0){var Zt=u===0?e:null;$s(n,gt,Zt,o)}}w.first=n.first&&n.first.e,w.last=c&&c.e}function Ss(t,n,e,r){br(t.v,n),t.i=e}function Ts(t,n,e,r,i,s,a,u,o,l){var f=(o&Di)!==0,h=(o&Hi)===0,c=f?h?V(i):Dt(i):i,p=(o&qi)===0?a:Dt(a),d={i:p,v:c,k:s,a:null,e:null,prev:e,next:r};try{return d.e=qt(()=>u(t,c,p,l),zi),d.e.prev=e&&e.e,d.e.next=r&&r.e,e===null?n.first=d:(e.next=d,e.e.next=d.e),r!==null&&(r.prev=d,r.e.prev=d.e),d}finally{}}function Le(t,n,e){for(var r=t.next?t.next.e.nodes_start:e,i=n?n.e.nodes_start:e,s=t.e.nodes_start;s!==r;){var a=oe(s);i.before(s),s=a}}function st(t,n,e){n===null?t.first=e:(n.next=e,n.e.next=e&&e.e),e!==null&&(e.prev=n,e.e.prev=n&&n.e)}function De(t,n){return t===n||(t==null?void 0:t[Et])===n}function rt(t={},n,e,r){return le(()=>{var i,s;return $r(()=>{i=s,s=(r==null?void 0:r())||[],Kt(()=>{t!==e(...s)&&(n(t,...s),i&&De(e(...i),t)&&n(null,...i))})}),()=>{Cr(()=>{s&&De(e(...s),t)&&n(null,...s)})}}),t}function Ms(t=!1){const n=m,e=n.l.u;if(!e)return;let r=()=>cs(n.s);if(t){let i=0,s={};const a=ae(()=>{let u=!1;const o=n.s;for(const l in o)o[l]!==s[l]&&(s[l]=o[l],u=!0);return u&&i++,i});r=()=>g(a)}e.b.length&&Gi(()=>{qe(n,r),Hn(e.b)}),Xn(()=>{const i=Kt(()=>e.m.map(Ni));return()=>{for(const s of i)typeof s=="function"&&s()}}),e.a.length&&Xn(()=>{qe(n,r),Hn(e.a)})}function qe(t,n){if(t.l.s)for(const e of t.l.s)g(e);n()}function Lr(t,n,e){if(t==null)return n(void 0),kt;const r=Kt(()=>t.subscribe(n,e));return r.unsubscribe?()=>r.unsubscribe():r}const wt=[];function Cs(t,n=kt){let e=null;const r=new Set;function i(u){if(fr(t,u)&&(t=u,e)){const o=!wt.length;for(const l of r)l[1](),wt.push(l,t);if(o){for(let l=0;l<wt.length;l+=2)wt[l][0](wt[l+1]);wt.length=0}}}function s(u){i(u(t))}function a(u,o=kt){const l=[u,o];return r.add(l),r.size===1&&(e=n(i,s)||kt),u(t),()=>{r.delete(l),r.size===0&&e&&(e(),e=null)}}return{set:i,update:s,subscribe:a}}function Dr(t){let n;return Lr(t,e=>n=e)(),n}let zn=Symbol();function Rs(t,n,e){const r=e[n]??(e[n]={store:null,source:V(void 0),unsubscribe:kt});if(r.store!==t&&!(zn in e))if(r.unsubscribe(),r.store=t??null,t==null)r.source.v=void 0,r.unsubscribe=kt;else{var i=!0;r.unsubscribe=Lr(t,s=>{i?r.source.v=s:$(r.source,s)}),i=!1}return t&&zn in e?Dr(t):g(r.source)}function Ps(){const t={};function n(){ue(()=>{for(var e in t)t[e].unsubscribe();sr(t,zn,{enumerable:!1,value:!0})})}return[t,n]}function Is(t){m===null&&Xi(),Yt&&m.l!==null?Os(m).m.push(t):Xn(()=>{const n=Kt(t);if(typeof n=="function")return n})}function Os(t){var n=t.l;return n.u??(n.u={a:[],b:[],m:[]})}const Fs="5";var ir;typeof window<"u"&&((ir=window.__svelte??(window.__svelte={})).v??(ir.v=new Set)).add(Fs);Li();const ct=Cs(!1);class Ls{constructor(n){v(this,"interruptQueue",[]);v(this,"currentInterrupt",-1);this.components=n}play(n){this.components.animation[n].draw().then(e=>{this.currentInterrupt=-1,console.log("animation finished")})}togglePause(){const n=!Dr(ct);this.currentInterrupt!==-1&&ct.set(n),n?this.components.animation[this.currentInterrupt].pause():this.components.animation[this.currentInterrupt].resume()}finishStep(){ct.set(!1),this.components.animation[this.currentInterrupt].foreach(n=>n.onPauseStep=()=>{ct.set(!0)}),this.components.animation[this.currentInterrupt].finishStep()}finishCycle(){ct.set(!1),this.components.animation[this.currentInterrupt].onPauseCycle=()=>{ct.set(!0)},this.components.animation[this.currentInterrupt].finishCycle()}dispatcher(){if(this.currentInterrupt===-1&&this.interruptQueue.length>0){this.currentInterrupt=this.interruptQueue.shift()??-1;let n=this.currentInterrupt;n!==-1&&this.play(n)}}sendInterrupt(n){this.interruptQueue.includes(n)||this.interruptQueue.push(n),this.currentInterrupt===-1&&this.dispatcher()}}var Ds={value:()=>{}};function qr(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new on(e)}function on(t){this._=t}function qs(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}on.prototype=qr.prototype={constructor:on,on:function(t,n){var e=this._,r=qs(t+"",e),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(t=r[s]).type)&&(i=Hs(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++s<a;)if(i=(t=r[s]).type)e[i]=He(e[i],t.name,n);else if(n==null)for(i in e)e[i]=He(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new on(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,s;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(n,e)}};function Hs(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function He(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Ds,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Kn="http://www.w3.org/1999/xhtml";const Ve={svg:"http://www.w3.org/2000/svg",xhtml:Kn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tn(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Ve.hasOwnProperty(n)?{space:Ve[n],local:t}:t}function Vs(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Kn&&n.documentElement.namespaceURI===Kn?n.createElement(t):n.createElementNS(e,t)}}function Xs(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Hr(t){var n=Tn(t);return(n.local?Xs:Vs)(n)}function Bs(){}function de(t){return t==null?Bs:function(){return this.querySelector(t)}}function Ys(t){typeof t!="function"&&(t=de(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var s=n[i],a=s.length,u=r[i]=new Array(a),o,l,f=0;f<a;++f)(o=s[f])&&(l=t.call(o,o.__data__,f,s))&&("__data__"in o&&(l.__data__=o.__data__),u[f]=l);return new q(r,this._parents)}function Us(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function zs(){return[]}function Vr(t){return t==null?zs:function(){return this.querySelectorAll(t)}}function Ks(t){return function(){return Us(t.apply(this,arguments))}}function Ws(t){typeof t=="function"?t=Ks(t):t=Vr(t);for(var n=this._groups,e=n.length,r=[],i=[],s=0;s<e;++s)for(var a=n[s],u=a.length,o,l=0;l<u;++l)(o=a[l])&&(r.push(t.call(o,o.__data__,l,a)),i.push(o));return new q(r,i)}function Xr(t){return function(){return this.matches(t)}}function Br(t){return function(n){return n.matches(t)}}var Qs=Array.prototype.find;function Gs(t){return function(){return Qs.call(this.children,t)}}function Zs(){return this.firstElementChild}function Js(t){return this.select(t==null?Zs:Gs(typeof t=="function"?t:Br(t)))}var js=Array.prototype.filter;function ta(){return Array.from(this.children)}function na(t){return function(){return js.call(this.children,t)}}function ea(t){return this.selectAll(t==null?ta:na(typeof t=="function"?t:Br(t)))}function ra(t){typeof t!="function"&&(t=Xr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var s=n[i],a=s.length,u=r[i]=[],o,l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new q(r,this._parents)}function Yr(t){return new Array(t.length)}function ia(){return new q(this._enter||this._groups.map(Yr),this._parents)}function gn(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}gn.prototype={constructor:gn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function sa(t){return function(){return t}}function aa(t,n,e,r,i,s){for(var a=0,u,o=n.length,l=s.length;a<l;++a)(u=n[a])?(u.__data__=s[a],r[a]=u):e[a]=new gn(t,s[a]);for(;a<o;++a)(u=n[a])&&(i[a]=u)}function oa(t,n,e,r,i,s,a){var u,o,l=new Map,f=n.length,h=s.length,c=new Array(f),p;for(u=0;u<f;++u)(o=n[u])&&(c[u]=p=a.call(o,o.__data__,u,n)+"",l.has(p)?i[u]=o:l.set(p,o));for(u=0;u<h;++u)p=a.call(t,s[u],u,s)+"",(o=l.get(p))?(r[u]=o,o.__data__=s[u],l.delete(p)):e[u]=new gn(t,s[u]);for(u=0;u<f;++u)(o=n[u])&&l.get(c[u])===o&&(i[u]=o)}function ua(t){return t.__data__}function la(t,n){if(!arguments.length)return Array.from(this,ua);var e=n?oa:aa,r=this._parents,i=this._groups;typeof t!="function"&&(t=sa(t));for(var s=i.length,a=new Array(s),u=new Array(s),o=new Array(s),l=0;l<s;++l){var f=r[l],h=i[l],c=h.length,p=fa(t.call(f,f&&f.__data__,l,r)),d=p.length,_=u[l]=new Array(d),k=a[l]=new Array(d),b=o[l]=new Array(c);e(f,h,_,k,b,p,n);for(var x=0,A=0,C,N;x<d;++x)if(C=_[x]){for(x>=A&&(A=x+1);!(N=k[A])&&++A<d;);C._next=N||null}}return a=new q(a,r),a._enter=u,a._exit=o,a}function fa(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ca(){return new q(this._exit||this._groups.map(Yr),this._parents)}function ha(t,n,e){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?s.remove():e(s),r&&i?r.merge(i).order():i}function pa(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,s=r.length,a=Math.min(i,s),u=new Array(i),o=0;o<a;++o)for(var l=e[o],f=r[o],h=l.length,c=u[o]=new Array(h),p,d=0;d<h;++d)(p=l[d]||f[d])&&(c[d]=p);for(;o<i;++o)u[o]=e[o];return new q(u,this._parents)}function da(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function _a(t){t||(t=va);function n(h,c){return h&&c?t(h.__data__,c.__data__):!h-!c}for(var e=this._groups,r=e.length,i=new Array(r),s=0;s<r;++s){for(var a=e[s],u=a.length,o=i[s]=new Array(u),l,f=0;f<u;++f)(l=a[f])&&(o[f]=l);o.sort(n)}return new q(i,this._parents).order()}function va(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ba(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ga(){return Array.from(this)}function ya(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function wa(){let t=0;for(const n of this)++t;return t}function xa(){return!this.node()}function ma(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],s=0,a=i.length,u;s<a;++s)(u=i[s])&&t.call(u,u.__data__,s,i);return this}function ka(t){return function(){this.removeAttribute(t)}}function Ea(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $a(t,n){return function(){this.setAttribute(t,n)}}function Na(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Aa(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Sa(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Ta(t,n){var e=Tn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Ea:ka:typeof n=="function"?e.local?Sa:Aa:e.local?Na:$a)(e,n))}function Ur(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ma(t){return function(){this.style.removeProperty(t)}}function Ca(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Ra(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Pa(t,n,e){return arguments.length>1?this.each((n==null?Ma:typeof n=="function"?Ra:Ca)(t,n,e??"")):Nt(this.node(),t)}function Nt(t,n){return t.style.getPropertyValue(n)||Ur(t).getComputedStyle(t,null).getPropertyValue(n)}function Ia(t){return function(){delete this[t]}}function Oa(t,n){return function(){this[t]=n}}function Fa(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function La(t,n){return arguments.length>1?this.each((n==null?Ia:typeof n=="function"?Fa:Oa)(t,n)):this.node()[t]}function zr(t){return t.trim().split(/^|\s+/)}function _e(t){return t.classList||new Kr(t)}function Kr(t){this._node=t,this._names=zr(t.getAttribute("class")||"")}Kr.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Wr(t,n){for(var e=_e(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Qr(t,n){for(var e=_e(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Da(t){return function(){Wr(this,t)}}function qa(t){return function(){Qr(this,t)}}function Ha(t,n){return function(){(n.apply(this,arguments)?Wr:Qr)(this,t)}}function Va(t,n){var e=zr(t+"");if(arguments.length<2){for(var r=_e(this.node()),i=-1,s=e.length;++i<s;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?Ha:n?Da:qa)(e,n))}function Xa(){this.textContent=""}function Ba(t){return function(){this.textContent=t}}function Ya(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Ua(t){return arguments.length?this.each(t==null?Xa:(typeof t=="function"?Ya:Ba)(t)):this.node().textContent}function za(){this.innerHTML=""}function Ka(t){return function(){this.innerHTML=t}}function Wa(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Qa(t){return arguments.length?this.each(t==null?za:(typeof t=="function"?Wa:Ka)(t)):this.node().innerHTML}function Ga(){this.nextSibling&&this.parentNode.appendChild(this)}function Za(){return this.each(Ga)}function Ja(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ja(){return this.each(Ja)}function to(t){var n=typeof t=="function"?t:Hr(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function no(){return null}function eo(t,n){var e=typeof t=="function"?t:Hr(t),r=n==null?no:typeof n=="function"?n:de(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function ro(){var t=this.parentNode;t&&t.removeChild(this)}function io(){return this.each(ro)}function so(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ao(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function oo(t){return this.select(t?ao:so)}function uo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function lo(t){return function(n){t.call(this,n,this.__data__)}}function fo(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function co(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,s;e<i;++e)s=n[e],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):n[++r]=s;++r?n.length=r:delete this.__on}}}function ho(t,n,e){return function(){var r=this.__on,i,s=lo(n);if(r){for(var a=0,u=r.length;a<u;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=e),i.value=n;return}}this.addEventListener(t.type,s,e),i={type:t.type,name:t.name,value:n,listener:s,options:e},r?r.push(i):this.__on=[i]}}function po(t,n,e){var r=fo(t+""),i,s=r.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var o=0,l=u.length,f;o<l;++o)for(i=0,f=u[o];i<s;++i)if((a=r[i]).type===f.type&&a.name===f.name)return f.value}return}for(u=n?ho:co,i=0;i<s;++i)this.each(u(r[i],n,e));return this}function Gr(t,n,e){var r=Ur(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function _o(t,n){return function(){return Gr(this,t,n)}}function vo(t,n){return function(){return Gr(this,t,n.apply(this,arguments))}}function bo(t,n){return this.each((typeof n=="function"?vo:_o)(t,n))}function*go(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var yo=[null];function q(t,n){this._groups=t,this._parents=n}function Wt(){return new q([[document.documentElement]],yo)}function wo(){return this}q.prototype=Wt.prototype={constructor:q,select:Ys,selectAll:Ws,selectChild:Js,selectChildren:ea,filter:ra,data:la,enter:ia,exit:ca,join:ha,merge:pa,selection:wo,order:da,sort:_a,call:ba,nodes:ga,node:ya,size:wa,empty:xa,each:ma,attr:Ta,style:Pa,property:La,classed:Va,text:Ua,html:Qa,raise:Za,lower:ja,append:to,insert:eo,remove:io,clone:oo,datum:uo,on:po,dispatch:bo,[Symbol.iterator]:go};function Zr(t){return new q([[document.querySelector(t)]],[document.documentElement])}function ve(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Jr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Qt(){}var Ht=.7,yn=1/Ht,$t="\\s*([+-]?\\d+)\\s*",Vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",K="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xo=/^#([0-9a-f]{3,8})$/,mo=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),ko=new RegExp(`^rgb\\(${K},${K},${K}\\)$`),Eo=new RegExp(`^rgba\\(${$t},${$t},${$t},${Vt}\\)$`),$o=new RegExp(`^rgba\\(${K},${K},${K},${Vt}\\)$`),No=new RegExp(`^hsl\\(${Vt},${K},${K}\\)$`),Ao=new RegExp(`^hsla\\(${Vt},${K},${K},${Vt}\\)$`),Xe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ve(Qt,Xt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Be,formatHex:Be,formatHex8:So,formatHsl:To,formatRgb:Ye,toString:Ye});function Be(){return this.rgb().formatHex()}function So(){return this.rgb().formatHex8()}function To(){return jr(this).formatHsl()}function Ye(){return this.rgb().formatRgb()}function Xt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=xo.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Ue(n):e===3?new I(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?nn(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?nn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=mo.exec(t))?new I(n[1],n[2],n[3],1):(n=ko.exec(t))?new I(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Eo.exec(t))?nn(n[1],n[2],n[3],n[4]):(n=$o.exec(t))?nn(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=No.exec(t))?We(n[1],n[2]/100,n[3]/100,1):(n=Ao.exec(t))?We(n[1],n[2]/100,n[3]/100,n[4]):Xe.hasOwnProperty(t)?Ue(Xe[t]):t==="transparent"?new I(NaN,NaN,NaN,0):null}function Ue(t){return new I(t>>16&255,t>>8&255,t&255,1)}function nn(t,n,e,r){return r<=0&&(t=n=e=NaN),new I(t,n,e,r)}function Mo(t){return t instanceof Qt||(t=Xt(t)),t?(t=t.rgb(),new I(t.r,t.g,t.b,t.opacity)):new I}function Wn(t,n,e,r){return arguments.length===1?Mo(t):new I(t,n,e,r??1)}function I(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}ve(I,Wn,Jr(Qt,{brighter(t){return t=t==null?yn:Math.pow(yn,t),new I(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ht:Math.pow(Ht,t),new I(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new I(_t(this.r),_t(this.g),_t(this.b),wn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ze,formatHex:ze,formatHex8:Co,formatRgb:Ke,toString:Ke}));function ze(){return`#${pt(this.r)}${pt(this.g)}${pt(this.b)}`}function Co(){return`#${pt(this.r)}${pt(this.g)}${pt(this.b)}${pt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ke(){const t=wn(this.opacity);return`${t===1?"rgb(":"rgba("}${_t(this.r)}, ${_t(this.g)}, ${_t(this.b)}${t===1?")":`, ${t})`}`}function wn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function pt(t){return t=_t(t),(t<16?"0":"")+t.toString(16)}function We(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new X(t,n,e,r)}function jr(t){if(t instanceof X)return new X(t.h,t.s,t.l,t.opacity);if(t instanceof Qt||(t=Xt(t)),!t)return new X;if(t instanceof X)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),s=Math.max(n,e,r),a=NaN,u=s-i,o=(s+i)/2;return u?(n===s?a=(e-r)/u+(e<r)*6:e===s?a=(r-n)/u+2:a=(n-e)/u+4,u/=o<.5?s+i:2-s-i,a*=60):u=o>0&&o<1?0:a,new X(a,u,o,t.opacity)}function Ro(t,n,e,r){return arguments.length===1?jr(t):new X(t,n,e,r??1)}function X(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}ve(X,Ro,Jr(Qt,{brighter(t){return t=t==null?yn:Math.pow(yn,t),new X(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ht:Math.pow(Ht,t),new X(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new I(Ln(t>=240?t-240:t+120,i,r),Ln(t,i,r),Ln(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new X(Qe(this.h),en(this.s),en(this.l),wn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wn(this.opacity);return`${t===1?"hsl(":"hsla("}${Qe(this.h)}, ${en(this.s)*100}%, ${en(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Qe(t){return t=(t||0)%360,t<0?t+360:t}function en(t){return Math.max(0,Math.min(1,t||0))}function Ln(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const ti=t=>()=>t;function Po(t,n){return function(e){return t+e*n}}function Io(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Oo(t){return(t=+t)==1?ni:function(n,e){return e-n?Io(n,e,t):ti(isNaN(n)?e:n)}}function ni(t,n){var e=n-t;return e?Po(t,e):ti(isNaN(t)?n:t)}const Ge=function t(n){var e=Oo(n);function r(i,s){var a=e((i=Wn(i)).r,(s=Wn(s)).r),u=e(i.g,s.g),o=e(i.b,s.b),l=ni(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=u(f),i.b=o(f),i.opacity=l(f),i+""}}return r.gamma=t,r}(1);function at(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Qn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dn=new RegExp(Qn.source,"g");function Fo(t){return function(){return t}}function Lo(t){return function(n){return t(n)+""}}function Do(t,n){var e=Qn.lastIndex=Dn.lastIndex=0,r,i,s,a=-1,u=[],o=[];for(t=t+"",n=n+"";(r=Qn.exec(t))&&(i=Dn.exec(n));)(s=i.index)>e&&(s=n.slice(e,s),u[a]?u[a]+=s:u[++a]=s),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,o.push({i:a,x:at(r,i)})),e=Dn.lastIndex;return e<n.length&&(s=n.slice(e),u[a]?u[a]+=s:u[++a]=s),u.length<2?o[0]?Lo(o[0].x):Fo(n):(n=o.length,function(l){for(var f=0,h;f<n;++f)u[(h=o[f]).i]=h.x(l);return u.join("")})}var Ze=180/Math.PI,Gn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ei(t,n,e,r,i,s){var a,u,o;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(o=t*e+n*r)&&(e-=t*o,r-=n*o),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,o/=u),t*r<n*e&&(t=-t,n=-n,o=-o,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(n,t)*Ze,skewX:Math.atan(o)*Ze,scaleX:a,scaleY:u}}var rn;function qo(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Gn:ei(n.a,n.b,n.c,n.d,n.e,n.f)}function Ho(t){return t==null||(rn||(rn=document.createElementNS("http://www.w3.org/2000/svg","g")),rn.setAttribute("transform",t),!(t=rn.transform.baseVal.consolidate()))?Gn:(t=t.matrix,ei(t.a,t.b,t.c,t.d,t.e,t.f))}function ri(t,n,e,r){function i(l){return l.length?l.pop()+" ":""}function s(l,f,h,c,p,d){if(l!==h||f!==c){var _=p.push("translate(",null,n,null,e);d.push({i:_-4,x:at(l,h)},{i:_-2,x:at(f,c)})}else(h||c)&&p.push("translate("+h+n+c+e)}function a(l,f,h,c){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),c.push({i:h.push(i(h)+"rotate(",null,r)-2,x:at(l,f)})):f&&h.push(i(h)+"rotate("+f+r)}function u(l,f,h,c){l!==f?c.push({i:h.push(i(h)+"skewX(",null,r)-2,x:at(l,f)}):f&&h.push(i(h)+"skewX("+f+r)}function o(l,f,h,c,p,d){if(l!==h||f!==c){var _=p.push(i(p)+"scale(",null,",",null,")");d.push({i:_-4,x:at(l,h)},{i:_-2,x:at(f,c)})}else(h!==1||c!==1)&&p.push(i(p)+"scale("+h+","+c+")")}return function(l,f){var h=[],c=[];return l=t(l),f=t(f),s(l.translateX,l.translateY,f.translateX,f.translateY,h,c),a(l.rotate,f.rotate,h,c),u(l.skewX,f.skewX,h,c),o(l.scaleX,l.scaleY,f.scaleX,f.scaleY,h,c),l=f=null,function(p){for(var d=-1,_=c.length,k;++d<_;)h[(k=c[d]).i]=k.x(p);return h.join("")}}}var Vo=ri(qo,"px, ","px)","deg)"),Xo=ri(Ho,", ",")",")"),At=0,Pt=0,Ct=0,ii=1e3,xn,It,mn=0,vt=0,Mn=0,Bt=typeof performance=="object"&&performance.now?performance:Date,si=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function be(){return vt||(si(Bo),vt=Bt.now()+Mn)}function Bo(){vt=0}function kn(){this._call=this._time=this._next=null}kn.prototype=ai.prototype={constructor:kn,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?be():+e)+(n==null?0:+n),!this._next&&It!==this&&(It?It._next=this:xn=this,It=this),this._call=t,this._time=e,Zn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zn())}};function ai(t,n,e){var r=new kn;return r.restart(t,n,e),r}function Yo(){be(),++At;for(var t=xn,n;t;)(n=vt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--At}function Je(){vt=(mn=Bt.now())+Mn,At=Pt=0;try{Yo()}finally{At=0,zo(),vt=0}}function Uo(){var t=Bt.now(),n=t-mn;n>ii&&(Mn-=n,mn=t)}function zo(){for(var t,n=xn,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:xn=e);It=t,Zn(r)}function Zn(t){if(!At){Pt&&(Pt=clearTimeout(Pt));var n=t-vt;n>24?(t<1/0&&(Pt=setTimeout(Je,t-Bt.now()-Mn)),Ct&&(Ct=clearInterval(Ct))):(Ct||(mn=Bt.now(),Ct=setInterval(Uo,ii)),At=1,si(Je))}}function je(t,n,e){var r=new kn;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var Ko=qr("start","end","cancel","interrupt"),Wo=[],oi=0,tr=1,Jn=2,un=3,nr=4,jn=5,ln=6;function Cn(t,n,e,r,i,s){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;Qo(t,e,{name:n,index:r,group:i,on:Ko,tween:Wo,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:oi})}function ge(t,n){var e=U(t,n);if(e.state>oi)throw new Error("too late; already scheduled");return e}function G(t,n){var e=U(t,n);if(e.state>un)throw new Error("too late; already running");return e}function U(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Qo(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=ai(s,0,e.time);function s(l){e.state=tr,e.timer.restart(a,e.delay,e.time),e.delay<=l&&a(l-e.delay)}function a(l){var f,h,c,p;if(e.state!==tr)return o();for(f in r)if(p=r[f],p.name===e.name){if(p.state===un)return je(a);p.state===nr?(p.state=ln,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[f]):+f<n&&(p.state=ln,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[f])}if(je(function(){e.state===un&&(e.state=nr,e.timer.restart(u,e.delay,e.time),u(l))}),e.state=Jn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Jn){for(e.state=un,i=new Array(c=e.tween.length),f=0,h=-1;f<c;++f)(p=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=p);i.length=h+1}}function u(l){for(var f=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(o),e.state=jn,1),h=-1,c=i.length;++h<c;)i[h].call(t,f);e.state===jn&&(e.on.call("end",t,t.__data__,e.index,e.group),o())}function o(){e.state=ln,e.timer.stop(),delete r[n];for(var l in r)return;delete t.__transition}}function Go(t,n){var e=t.__transition,r,i,s=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){s=!1;continue}i=r.state>Jn&&r.state<jn,r.state=ln,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}s&&delete t.__transition}}function Zo(t){return this.each(function(){Go(this,t)})}function Jo(t,n){var e,r;return function(){var i=G(this,t),s=i.tween;if(s!==e){r=e=s;for(var a=0,u=r.length;a<u;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function jo(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var s=G(this,t),a=s.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},o=0,l=i.length;o<l;++o)if(i[o].name===n){i[o]=u;break}o===l&&i.push(u)}s.tween=i}}function tu(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=U(this.node(),e).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?Jo:jo)(e,t,n))}function ye(t,n,e){var r=t._id;return t.each(function(){var i=G(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return U(i,r).value[n]}}function ui(t,n){var e;return(typeof n=="number"?at:n instanceof Xt?Ge:(e=Xt(n))?(n=e,Ge):Do)(t,n)}function nu(t){return function(){this.removeAttribute(t)}}function eu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ru(t,n,e){var r,i=e+"",s;return function(){var a=this.getAttribute(t);return a===i?null:a===r?s:s=n(r=a,e)}}function iu(t,n,e){var r,i=e+"",s;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?s:s=n(r=a,e)}}function su(t,n,e){var r,i,s;return function(){var a,u=e(this),o;return u==null?void this.removeAttribute(t):(a=this.getAttribute(t),o=u+"",a===o?null:a===r&&o===i?s:(i=o,s=n(r=a,u)))}}function au(t,n,e){var r,i,s;return function(){var a,u=e(this),o;return u==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),o=u+"",a===o?null:a===r&&o===i?s:(i=o,s=n(r=a,u)))}}function ou(t,n){var e=Tn(t),r=e==="transform"?Xo:ui;return this.attrTween(t,typeof n=="function"?(e.local?au:su)(e,r,ye(this,"attr."+t,n)):n==null?(e.local?eu:nu)(e):(e.local?iu:ru)(e,r,n))}function uu(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function lu(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function fu(t,n){var e,r;function i(){var s=n.apply(this,arguments);return s!==r&&(e=(r=s)&&lu(t,s)),e}return i._value=n,i}function cu(t,n){var e,r;function i(){var s=n.apply(this,arguments);return s!==r&&(e=(r=s)&&uu(t,s)),e}return i._value=n,i}function hu(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=Tn(t);return this.tween(e,(r.local?fu:cu)(r,n))}function pu(t,n){return function(){ge(this,t).delay=+n.apply(this,arguments)}}function du(t,n){return n=+n,function(){ge(this,t).delay=n}}function _u(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?pu:du)(n,t)):U(this.node(),n).delay}function vu(t,n){return function(){G(this,t).duration=+n.apply(this,arguments)}}function bu(t,n){return n=+n,function(){G(this,t).duration=n}}function gu(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?vu:bu)(n,t)):U(this.node(),n).duration}function yu(t,n){if(typeof n!="function")throw new Error;return function(){G(this,t).ease=n}}function wu(t){var n=this._id;return arguments.length?this.each(yu(n,t)):U(this.node(),n).ease}function xu(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;G(this,t).ease=e}}function mu(t){if(typeof t!="function")throw new Error;return this.each(xu(this._id,t))}function ku(t){typeof t!="function"&&(t=Xr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var s=n[i],a=s.length,u=r[i]=[],o,l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&u.push(o);return new tt(r,this._parents,this._name,this._id)}function Eu(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,s=Math.min(r,i),a=new Array(r),u=0;u<s;++u)for(var o=n[u],l=e[u],f=o.length,h=a[u]=new Array(f),c,p=0;p<f;++p)(c=o[p]||l[p])&&(h[p]=c);for(;u<r;++u)a[u]=n[u];return new tt(a,this._parents,this._name,this._id)}function $u(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Nu(t,n,e){var r,i,s=$u(n)?ge:G;return function(){var a=s(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}function Au(t,n){var e=this._id;return arguments.length<2?U(this.node(),e).on.on(t):this.each(Nu(e,t,n))}function Su(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Tu(){return this.on("end.remove",Su(this._id))}function Mu(t){var n=this._name,e=this._id;typeof t!="function"&&(t=de(t));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var u=r[a],o=u.length,l=s[a]=new Array(o),f,h,c=0;c<o;++c)(f=u[c])&&(h=t.call(f,f.__data__,c,u))&&("__data__"in f&&(h.__data__=f.__data__),l[c]=h,Cn(l[c],n,e,c,l,U(f,e)));return new tt(s,this._parents,n,e)}function Cu(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Vr(t));for(var r=this._groups,i=r.length,s=[],a=[],u=0;u<i;++u)for(var o=r[u],l=o.length,f,h=0;h<l;++h)if(f=o[h]){for(var c=t.call(f,f.__data__,h,o),p,d=U(f,e),_=0,k=c.length;_<k;++_)(p=c[_])&&Cn(p,n,e,_,c,d);s.push(c),a.push(f)}return new tt(s,a,n,e)}var Ru=Wt.prototype.constructor;function Pu(){return new Ru(this._groups,this._parents)}function Iu(t,n){var e,r,i;return function(){var s=Nt(this,t),a=(this.style.removeProperty(t),Nt(this,t));return s===a?null:s===e&&a===r?i:i=n(e=s,r=a)}}function li(t){return function(){this.style.removeProperty(t)}}function Ou(t,n,e){var r,i=e+"",s;return function(){var a=Nt(this,t);return a===i?null:a===r?s:s=n(r=a,e)}}function Fu(t,n,e){var r,i,s;return function(){var a=Nt(this,t),u=e(this),o=u+"";return u==null&&(o=u=(this.style.removeProperty(t),Nt(this,t))),a===o?null:a===r&&o===i?s:(i=o,s=n(r=a,u))}}function Lu(t,n){var e,r,i,s="style."+n,a="end."+s,u;return function(){var o=G(this,t),l=o.on,f=o.value[s]==null?u||(u=li(n)):void 0;(l!==e||i!==f)&&(r=(e=l).copy()).on(a,i=f),o.on=r}}function Du(t,n,e){var r=(t+="")=="transform"?Vo:ui;return n==null?this.styleTween(t,Iu(t,r)).on("end.style."+t,li(t)):typeof n=="function"?this.styleTween(t,Fu(t,r,ye(this,"style."+t,n))).each(Lu(this._id,t)):this.styleTween(t,Ou(t,r,n),e).on("end.style."+t,null)}function qu(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Hu(t,n,e){var r,i;function s(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&qu(t,a,e)),r}return s._value=n,s}function Vu(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Hu(t,n,e??""))}function Xu(t){return function(){this.textContent=t}}function Bu(t){return function(){var n=t(this);this.textContent=n??""}}function Yu(t){return this.tween("text",typeof t=="function"?Bu(ye(this,"text",t)):Xu(t==null?"":t+""))}function Uu(t){return function(n){this.textContent=t.call(this,n)}}function zu(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Uu(i)),n}return r._value=t,r}function Ku(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,zu(t))}function Wu(){for(var t=this._name,n=this._id,e=fi(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],u=a.length,o,l=0;l<u;++l)if(o=a[l]){var f=U(o,n);Cn(o,t,e,l,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new tt(r,this._parents,t,e)}function Qu(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(s,a){var u={value:a},o={value:function(){--i===0&&s()}};e.each(function(){var l=G(this,r),f=l.on;f!==t&&(n=(t=f).copy(),n._.cancel.push(u),n._.interrupt.push(u),n._.end.push(o)),l.on=n}),i===0&&s()})}var Gu=0;function tt(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function fi(){return++Gu}var J=Wt.prototype;tt.prototype={constructor:tt,select:Mu,selectAll:Cu,selectChild:J.selectChild,selectChildren:J.selectChildren,filter:ku,merge:Eu,selection:Pu,transition:Wu,call:J.call,nodes:J.nodes,node:J.node,size:J.size,empty:J.empty,each:J.each,on:Au,attr:ou,attrTween:hu,style:Du,styleTween:Vu,text:Yu,textTween:Ku,remove:Tu,tween:tu,delay:_u,duration:gu,ease:wu,easeVarying:mu,end:Qu,[Symbol.iterator]:J[Symbol.iterator]};const er=t=>+t;function Zu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ju={time:null,delay:0,duration:250,ease:Zu};function ju(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function tl(t){var n,e;t instanceof tt?(n=t._id,t=t._name):(n=fi(),(e=Ju).time=be(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],u=a.length,o,l=0;l<u;++l)(o=a[l])&&Cn(o,t,n,l,a,e||ju(o,n));return new tt(r,this._parents,t,n)}Wt.prototype.interrupt=Zo;Wt.prototype.transition=tl;const te=Math.PI,ne=2*te,ht=1e-6,nl=ne-ht;function ci(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function el(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return ci;const e=10**n;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}let rl=class{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?ci:el(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,s,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(n,e,r,i,s){if(n=+n,e=+e,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,u=this._y1,o=r-n,l=i-e,f=a-n,h=u-e,c=f*f+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(c>ht)if(!(Math.abs(h*o-l*f)>ht)||!s)this._append`L${this._x1=n},${this._y1=e}`;else{let p=r-a,d=i-u,_=o*o+l*l,k=p*p+d*d,b=Math.sqrt(_),x=Math.sqrt(c),A=s*Math.tan((te-Math.acos((_+c-k)/(2*b*x)))/2),C=A/x,N=A/b;Math.abs(C-1)>ht&&this._append`L${n+C*f},${e+C*h}`,this._append`A${s},${s},0,0,${+(h*p>f*d)},${this._x1=n+N*o},${this._y1=e+N*l}`}}arc(n,e,r,i,s,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),o=r*Math.sin(i),l=n+u,f=e+o,h=1^a,c=a?i-s:s-i;this._x1===null?this._append`M${l},${f}`:(Math.abs(this._x1-l)>ht||Math.abs(this._y1-f)>ht)&&this._append`L${l},${f}`,r&&(c<0&&(c=c%ne+ne),c>nl?this._append`A${r},${r},0,1,${h},${n-u},${e-o}A${r},${r},0,1,${h},${this._x1=l},${this._y1=f}`:c>ht&&this._append`A${r},${r},0,${+(c>=te)},${h},${this._x1=n+r*Math.cos(s)},${this._y1=e+r*Math.sin(s)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function xt(t){return function(){return t}}function il(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new rl(n)}function sl(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hi(t){this._context=t}hi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function pi(t){return new hi(t)}function al(t){return t[0]}function ol(t){return t[1]}function ul(t,n){var e=xt(!0),r=null,i=pi,s=null,a=il(u);t=typeof t=="function"?t:t===void 0?al:xt(t),n=typeof n=="function"?n:n===void 0?ol:xt(n);function u(o){var l,f=(o=sl(o)).length,h,c=!1,p;for(r==null&&(s=i(p=a())),l=0;l<=f;++l)!(l<f&&e(h=o[l],l,o))===c&&((c=!c)?s.lineStart():s.lineEnd()),c&&s.point(+t(h,l,o),+n(h,l,o));if(p)return s=null,p+""||null}return u.x=function(o){return arguments.length?(t=typeof o=="function"?o:xt(+o),u):t},u.y=function(o){return arguments.length?(n=typeof o=="function"?o:xt(+o),u):n},u.defined=function(o){return arguments.length?(e=typeof o=="function"?o:xt(!!o),u):e},u.curve=function(o){return arguments.length?(i=o,r!=null&&(s=i(r)),u):i},u.context=function(o){return arguments.length?(o==null?r=s=null:s=i(r=o),u):r},u}function Ot(t,n,e){this.k=t,this.x=n,this.y=e}Ot.prototype={constructor:Ot,scale:function(t){return t===1?this:new Ot(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Ot(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ot.prototype;function ll(){return Zr("#svg-canvas")}function it(t,n,e=1e3,r="black"){const i=ll();if(t.direction==="right"&&n.direction==="left"&&t.x<n.x||t.direction==="left"&&n.direction==="right"&&t.x>n.x){const s=(t.x+n.x)/2;return new H(i,[t.path(),[s,t.y],[s,n.y],n.path()],e,r)}else if(t.direction==="top"&&n.direction==="bottom"&&t.y<n.y||t.direction==="bottom"&&n.direction==="top"&&t.y>n.y){const s=(t.y+n.y)/2;return new H(i,[t.path(),[t.x,s],[n.x,s],n.path()],e,r)}else{if(t.direction==="left"&&n.direction!=="left"&&t.x>n.x)return new H(i,[t.path(),[n.x,t.y],n.path()],e,r);if(t.direction==="right"&&n.direction!=="right"&&t.x<n.x)return new H(i,[t.path(),[n.x,t.y],n.path()],e,r);if(t.direction==="top"&&n.direction!=="top"&&t.y>n.y)return new H(i,[t.path(),[t.x,n.y],n.path()],e,r);if(t.direction==="bottom"&&n.direction!=="bottom"&&t.y<n.y)return new H(i,[t.path(),[t.x,n.y],n.path()],e,r);if(t.direction==="top"&&n.direction==="top"){const s=Math.min(t.y,n.y)-20;return new H(i,[t.path(),[t.x,s],[n.x,s],n.path()],e,r)}else if(t.direction==="bottom"&&n.direction==="bottom"){const s=Math.max(t.y,n.y)+20;return new H(i,[t.path(),[t.x,s],[n.x,s],n.path()],e,r)}else if(t.direction==="left"&&n.direction==="left"){const s=Math.min(t.x,n.x)-20;return new H(i,[t.path(),[s,t.y],[s,n.y],n.path()],e,r)}else if(t.direction==="right"&&n.direction==="right"){const s=Math.max(t.x,n.x)+20;return new H(i,[t.path(),[s,t.y],[s,n.y],n.path()],e,r)}}return new H(i,[[0,0],[200,200]],e,r)}class rr{constructor(n){v(this,"fn");this.fn=n??(()=>{})}set(n){this.fn=n}call(...n){return this.fn(...n)}get function(){return this.fn}}class fl{constructor(n){this.svg=n}}class H extends fl{constructor(e,r,i,s){var l,f;super(e);v(this,"path");v(this,"duration");v(this,"callback",new rr(()=>{}));v(this,"started",!1);v(this,"paused",!1);const a=(l=e.node())==null?void 0:l.getBoundingClientRect();this.duration=i;const u=ul().x(h=>h[0]-((a==null?void 0:a.left)??0)).y(h=>h[1]-((a==null?void 0:a.top)??0)).curve(pi);this.path=e.append("path").attr("d",u(r)).attr("stroke",s).attr("stroke-width",3).attr("fill","none");const o=((f=this.path.node())==null?void 0:f.getTotalLength())??0;this.path.attr("stroke-dasharray",o).attr("stroke-dashoffset",o).attr("marker-end",null)}drawPath(e){const r=this.path.node().getTotalLength();this.callback=new rr(e),this.path.attr("stroke-dasharray",r).attr("stroke-dashoffset",r).transition().duration(this.duration).ease(er).attr("stroke-dashoffset",0).on("end",()=>{this.path.attr("marker-end","url(#arrow)"),this.callback.function()}),this.started=!0}pause(){this.path.interrupt(),this.started&&(this.paused=!0)}resume(){var a;if(!this.paused)return;const e=((a=this.path.node())==null?void 0:a.getTotalLength())??0,i=parseFloat(this.path.attr("stroke-dashoffset"))/e,s=this.duration*i;this.path.transition().duration(s).ease(er).attr("stroke-dashoffset",0).on("end",()=>{this.path.attr("marker-end","url(#arrow)"),this.callback.function()}),this.paused=!1}}class S{constructor(n,e){v(this,"x");v(this,"y");v(this,"rect");v(this,"direction");const r=n.getBoundingClientRect();switch(this.rect=r,this.direction=e,e){case"top":this.x=r.left+r.width/2,this.y=r.top;break;case"bottom":this.x=r.left+r.width/2,this.y=r.bottom;break;case"right":this.x=r.right,this.y=r.top+r.height/2;break;case"left":this.x=r.left,this.y=r.top+r.height/2;break}}path(){return[this.x,this.y]}}class cl{constructor(n){v(this,"index",0);v(this,"cont");v(this,"shouldPause",!1);v(this,"interrupted",!1);v(this,"onPauseCycle",()=>{});this.cycles=n}foreach(n){this.cycles.forEach(n)}async draw(){for(;this.index<this.cycles.length;)await this.cycles[this.index].draw(),this.interrupted=!1,this.index++,this.shouldPause&&this.index<this.cycles.length?(this.onPauseCycle(),await new Promise(e=>{this.cont=e})):await new Promise(e=>setTimeout(()=>e(null),800))}pause(){this.interrupted=!0,this.cycles[this.index].pause()}play(){var n;this.interrupted?this.cycles[this.index].resume():(n=this.cont)==null||n.call(this,null),this.interrupted=!1}resume(){this.shouldPause=!1,this.cycles[this.index].resume()===-1&&this.play()}finishCycle(){this.shouldPause=!0,this.interrupted?(this.interrupted=!1,this.cycles[this.index].shouldPause=!1,this.cycles[this.index].play()):this.play()}finishStep(){var e;this.cycles[this.index].finishStep()===-1&&((e=this.cont)==null||e.call(this,null)),this.interrupted=!0,this.shouldPause=!0}}class qn{constructor(n){v(this,"index",0);v(this,"cont");v(this,"shouldPause",!1);v(this,"interrupted",!1);v(this,"onPauseStep",()=>{});this.steps=n}length(){return this.steps.length}async draw(){for(;this.index<this.steps.length;)await new Promise(n=>this.steps[this.index].play(n)),this.index++,this.shouldPause&&this.index<this.steps.length&&(this.onPauseStep(),await new Promise(n=>{this.cont=n}))}pause(){this.interrupted=!0,this.steps[this.index].pause()}play(){var n;if(this.interrupted)this.steps[this.index].resume();else if(this.cont)(n=this.cont)==null||n.call(this,null);else return-1;return this.interrupted=!1,0}resume(){return this.shouldPause=!1,this.play()}finishStep(){return this.shouldPause=!0,this.play()}}class ft{constructor(n){v(this,"finished",0);v(this,"substeps");Array.isArray(n)?this.substeps=n:this.substeps=[n]}play(n){var e;for(let r=0;r<this.substeps.length;r++)(e=this.substeps[r])==null||e.drawPath(()=>{this.finished++,this.finished===this.substeps.length&&n()})}pause(){this.substeps.forEach(n=>n.pause())}resume(){this.substeps.forEach(n=>n.resume())}}class hl{constructor(n,e,r,i,s,a,u,o){v(this,"buttons");v(this,"intROM");v(this,"stateReg");v(this,"mainROM");v(this,"mar");v(this,"pc");v(this,"k0");v(this,"ram");v(this,"animation");this.buttons=n,this.intROM=e,this.stateReg=r,this.mainROM=i,this.mar=s,this.pc=a,this.k0=u,this.ram=o,this.animation=pl(4,l=>new cl([new qn([new ft(it(new S(this.buttons[l],"top"),new S(this.intROM,"top"),1500,"red")),new ft(it(new S(this.intROM,"right"),new S(this.stateReg,"left"),500,"red"))]),new qn([new ft(it(new S(this.stateReg,"right"),new S(this.mainROM,"left"),500,"orange")),new ft([it(new S(this.mainROM,"bottom"),new S(this.buttons[l],"right"),1e3,"orange"),it(new S(this.pc,"right"),new S(this.k0,"left"),800,"orange")]),new ft(it(new S(this.buttons[l],"bottom"),new S(this.mar,"left"),1500,"orange"))]),new qn([new ft(it(new S(this.mar,"right"),new S(this.ram,"left"),500,"#91ca00")),new ft(it(new S(this.ram,"right"),new S(this.pc,"left"),500,"#91ca00"))])]))}}function pl(t,n){return Array.from({length:t},(e,r)=>n(r))}var dl=pe('<button class="block pipeline"></button>'),_l=pe('<div class="tooltip-box"><div style="font-size: 18px">Core Visualization Tool</div> <hr> <div class="app-details"><p><strong>Version:</strong> v0.1.0</p> <p><strong>Interaction:</strong> Click the INT buttons to simulate an interrupt</p> <p><strong>New Features:</strong> Playback control</p> <p><strong>Upcoming:</strong> Handler code step-through</p></div></div>'),vl=pe(`<main><div style="display: flex; padding: 1rem; gap: 1rem; background: #f3f4f6;"><div><div style="display: flex; flex-direction: row; align-items: center; gap: 1rem;"><div style="background: white; border-radius: 0.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); width: 100%"><div class="editor-tabs"><div class="tab">main.s</div> <div class="tab active-tab">handler.s</div></div> <div class="code-editor">push $k0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;
                        Save return address to stack<br> ei&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;
                        Re-enable interrupts<br> <br> push $a0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;
                        Save processor registers to stack<br> push $a1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;
                        ...<br> ... <br> push $t2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;
                        ...<br> <br> lea $t0, DIRECTION&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; Get the pointer to the direction
                        variable<br> in $t1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;
                        Poll the device to check the new direction<br> sw $t1, 0($t0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; Update the
                        new direction<br> <br> pop $a0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;
                        Restore processor registers from stack<br> pop $a1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;
                        ...<br> ... <br> pop $t2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;
                        ...<br> <br> ei&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;
                        Disable interrupts<br> pop $k0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;
                        Restore return address from stack <br> reti&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;
                        Return & enable interrupts atomically <br></div></div></div> <svg id="svg-canvas"></svg> <div class="diagram-container"><div class="left-column"></div> <div class="right-column"><div class="top-right"><div class="block ei">EI</div> <div class="block introm">INT ROM</div> <div class="block state">State</div> <div class="block mainrom">Main ROM</div></div> <div class="bottom-right"><div class="block mar">MAR</div> <div class="block ram">RAM</div> <div class="block pc">PC</div> <div class="block sk0">$k0</div></div></div></div></div></div> <button class="control_buttons"> </button> <button class="control_buttons">Finish Step</button> <button class="control_buttons">Finish Cycle</button> <div class="tooltip-container"><!> <div class="circle" style="background-color: transparent; width: 48px; height: 48px;" role="presentation"><div class="circle">i</div></div></div></main>`);function bl(t,n){hr(n,!1);const[e,r]=Ps(),i=()=>Rs(ct,"$isPaused",e),s=4,a=V([]);let u=V(),o=V(),l=V(),f=V(),h=V(),c=V(),p=V(),d=V(!1),_;function k(E){_.sendInterrupt(E)}function b(){_.togglePause()}function x(){_.finishStep()}function A(){_.finishCycle()}Is(()=>{_=new Ls(new hl(g(a),g(u),g(l),g(o),g(c),g(h),g(f),g(p))),Zr("#svg-canvas").append("defs").append("marker").attr("id","arrow").attr("viewBox","0 0 10 10").attr("refX",8).attr("refY",5).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto-start-reverse").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("fill","black")}),Ms();var C=vl(),N=Z(C),Gt=Z(N),Mt=R(Z(Gt),4),gt=Z(Mt);Ns(gt,5,()=>Array(s),Es,(E,Te,In)=>{var Jt=dl();Jt.__click=jt=>k(In),Jt.textContent=`INT${s-In}`,rt(Jt,(jt,tn)=>Ui(a,g(a)[tn]=jt),jt=>{var tn;return(tn=g(a))==null?void 0:tn[jt]},()=>[In]),Fn(E,Jt)});var Rn=R(gt,2),Zt=Z(Rn),we=R(Z(Zt),2);rt(we,E=>$(u,E),()=>g(u));var xe=R(we,2);rt(xe,E=>$(l,E),()=>g(l));var di=R(xe,2);rt(di,E=>$(o,E),()=>g(o));var _i=R(Zt,2),me=Z(_i);rt(me,E=>$(c,E),()=>g(c));var ke=R(me,2);rt(ke,E=>$(p,E),()=>g(p));var Ee=R(ke,2);rt(Ee,E=>$(h,E),()=>g(h));var vi=R(Ee,2);rt(vi,E=>$(f,E),()=>g(f));var Pn=R(N,2);Pn.__click=b;var bi=Z(Pn),$e=R(Pn,2);$e.__click=x;var Ne=R($e,2);Ne.__click=A;var gi=R(Ne,2),Ae=Z(gi);{var yi=E=>{var Te=_l();Fn(E,Te)};ks(Ae,E=>{g(d)&&E(yi)})}var Se=R(Ae,2);Ji(()=>ys(bi,i()?"Play":"Pause")),Fe("mouseenter",Se,()=>{$(d,!0)}),Fe("mouseleave",Se,()=>{$(d,!1)}),Fn(t,C),pr(),r()}vs(["click"]);ws(bl,{target:document.getElementById("app")});
